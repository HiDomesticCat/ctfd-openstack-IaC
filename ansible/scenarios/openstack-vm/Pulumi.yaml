# Pulumi 專案設定
# 這個 scenario 會為每位玩家建立一台獨立的 OpenStack VM 靶機
# 由 chall-manager 自動呼叫，不需要手動執行

name: openstack-vm

# ✅ Go runtime：chall-manager Docker image 內建 Go，直接執行編譯好的 binary
runtime:
  name: go
  options:
    binary: ./main    # Ansible task 在打包前執行 go build -o main .

description: |
  CTF 靶機 Scenario：為每位玩家動態建立 OpenStack VM
  Runtime: Go（預先編譯為 ./main binary）
  chall-manager 規範：
    - config key : openstack-vm:identity  （chall-manager 自動注入）
    - output key : connection_info        （玩家連線資訊）
    - output key : flag                   （動態 HMAC flag）

# ✅ chall-manager 只注入 identity 這一個 config key
config:
  openstack-vm:identity:
    description: "由 chall-manager 自動注入的玩家唯一識別"
